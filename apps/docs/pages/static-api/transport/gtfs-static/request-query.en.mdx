## GTFS Static Dataset Endpoints

The GTFS Static API provides access to public transportation data represented as a GTFS Feed, which consists of a collection of text files packaged in a ZIP file. Each file represents a specific aspect of transit information and can be individually queried using the `/gtfs/<gtfs_type>` endpoint, where `<gtfs_type>` corresponds to the specific file.

### Downloading the ZIP file

```http
GET .../gtfs
```

If there are no GTFS data type specified, the above request will simply return the full GTFS static data in ZIP format.

### Available GTFS Static Types

```http
GET .../gtfs/<gtfs_type>
```

The API supports the following GTFS data types:

| GTFS Type   | Description                                      |
| ----------- | ------------------------------------------------ |
| agency      | Information about transit agencies               |
| calendar    | Service availability for specific dates          |
| frequencies | Frequency-based scheduling for trips             |
| routes      | Details about transit routes                     |
| stop_times  | Timetables and stop details for trips            |
| stops       | Information about transit stops                  |
| trips       | Specific trips with associated route information |

For example, the following query is used to find out which transport agencies are available:

```http
GET .../gtfs/agency
```

## Query Parameters

### `download`

```http
GET .../gtfs/<gtfs_type>?download=true
### Returns data in original .txt format

GET .../gtfs/<gtfs_type>?download=false
GET .../gtfs/<gtfs_type>
### Returns data in JSON format
```

- GTFS static originally in .txt format, users can download the text by using `download=True`
- By default, or when `download` is set to false, the data is returned in JSON format.

### `area`

```http
GET .../gtfs/<gtfs_type>?area=<state>
```

- To filter the GTFS data based on a specific state, you can include the `area` parameter in your query.
- `<state>` refers to Malaysian states abbreviated into three letters, e.g. Johor is `jhr`.
- Currently, only `jhr` is supported.

### Filtering by Fields

| GTFS Type   | Available Fields                                                                                                         |
| ----------- | ------------------------------------------------------------------------------------------------------------------------ |
| agency      | agency_id, agency_name, agency_url, agency_timezone, agency_phone, agency_lang                                           |
| calendar    | service_id, monday, tuesday, wednesday, thursday, friday, saturday, sunday, start_date, end_date                         |
| frequencies | trip_id, start_time, end_time, headway_secs, exact_times                                                                 |
| routes      | route_id, agency_id, route_short_name, route_long_name, route_desc, route_type, route_url, route_color, route_text_color |
| stop_times  | trip_id, arrival_time, departure_time, stop_id, stop_sequence, stop_headsign, pickup_type, shape_dist_traveled           |
| stops       | stop_id, stop_code, stop_name, stop_desc, stop_lat, stop_lon, zone_id, stop_url, location_type, parent_station           |
| trips       | route_id, service_id, trip_id, trip_headsign, direction_id, block_id, shape_id, wheelchair_accessible                    |

Based on the above table, you can filter the datasets

```http
GET .../gtfs/<gtfs_type>?<field>=<value>
```

- (explain a bit in point forms)
- If there are invalid field names, a `400 Bad Request` response will be given.
